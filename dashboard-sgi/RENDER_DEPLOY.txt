Deploy do Frontend no Render.com - Guia Completo
================================================

O frontend e uma aplicacao React/Vite que precisa ser compilada e servida como site estatico.

OPCAO 1: Static Site (Recomendado - Mais Simples)
---------------------------------------------------

Render tem suporte nativo para sites estaticos. Esta e a opcao mais simples.

PASSO 1: Criar Static Site
---------------------------

1. No dashboard do Render, clica em "New +"
2. Escolhe "Static Site"
3. Conecta o teu repositorio GitHub:
   - Seleciona o repositorio: jpxdpt/SGI
   - Seleciona a branch: master

PASSO 2: Configurar Build
--------------------------

Nome:
   sgi-frontend (ou o nome que preferires)

Branch:
   master

Root Directory:
   dashboard-sgi

   IMPORTANTE: Define o Root Directory como "dashboard-sgi"

Build Command:
   cd dashboard-sgi && npm install && npm run build

   OU se o Root Directory ja esta como "dashboard-sgi":
   npm install && npm run build

Publish Directory:
   dashboard-sgi/dist

   IMPORTANTE: Se o Root Directory for a raiz do repo, usa "dashboard-sgi/dist".
   Se o Root Directory for "dashboard-sgi", usa apenas "dist".

PASSO 3: Configurar Variaveis de Ambiente
-------------------------------------------

Clica em "Environment" e adiciona:

   VITE_API_BASE_URL=https://sgi-backend.onrender.com/api

   IMPORTANTE: Substitui "sgi-backend" pelo nome real do teu servico backend no Render.

PASSO 4: Deploy
---------------

1. Clica em "Create Static Site"
2. O Render vai fazer build automaticamente
3. Quando terminar, teras uma URL tipo: https://sgi-frontend.onrender.com

OPCAO 2: Web Service (Alternativa - Mais Controlo)
----------------------------------------------------

Se preferires mais controlo ou se precisares de um servidor Node para servir os ficheiros:

PASSO 1: Criar servidor simples
-------------------------------

Cria um ficheiro `server.js` na raiz do dashboard-sgi:

   const express = require('express');
   const path = require('path');
   const app = express();

   // Servir ficheiros estaticos da pasta dist
   app.use(express.static(path.join(__dirname, 'dist')));

   // Para SPA - redirecionar todas as rotas para index.html
   app.get('*', (req, res) => {
     res.sendFile(path.join(__dirname, 'dist', 'index.html'));
   });

   const PORT = process.env.PORT || 8081;
   app.listen(PORT, () => {
     console.log(`Frontend rodando na porta ${PORT}`);
   });

PASSO 2: Atualizar package.json
-------------------------------

Adiciona ao package.json:

   "scripts": {
     ...
     "start": "node server.js"
   },
   "dependencies": {
     ...
     "express": "^4.19.2"
   }

PASSO 3: Criar Web Service no Render
-------------------------------------

1. No dashboard do Render, clica em "New +"
2. Escolhe "Web Service"
3. Conecta o repositorio GitHub

Configuracao:

   Root Directory: dashboard-sgi
   Runtime: Node
   Build Command: npm install && npm run build
   Start Command: npm start

PASSO 4: Variaveis de Ambiente
------------------------------

   VITE_API_BASE_URL=https://sgi-backend.onrender.com/api

   (Substitui pelo URL real do backend)

RECOMENDACAO
------------

Use a OPCAO 1 (Static Site) - E mais simples, mais rapida, e mais economica.
O Render serve sites estaticos de forma otimizada e gratuita.

ATUALIZAR BACKEND
-----------------

Depois de fazer deploy do frontend, atualiza a variavel FRONTEND_URL no backend:

   FRONTEND_URL=https://sgi-frontend.onrender.com

   (Substitui pelo URL real do frontend)

TROUBLESHOOTING
---------------

Problema: Build falha
Solucao: Verifica que o Root Directory esta correto (dashboard-sgi)
         E que o Build Command inclui "npm install"

Problema: Site nao carrega
Solucao: Verifica que o Publish Directory esta como "dist"
         E que a variavel VITE_API_BASE_URL esta correta

Problema: Erro 404 em rotas
Solucao: Se usares Static Site, o Render deve redirecionar automaticamente.
         Se nao funcionar, usa a OPCAO 2 (Web Service) com o servidor Express.

Problema: CORS errors
Solucao: Verifica que o backend tem ALLOW_ALL_ORIGINS=true
         E que FRONTEND_URL no backend tem o URL correto do frontend

VANTAGENS DO RENDER PARA FRONTEND
----------------------------------

- Plano gratuito generoso
- Deploy automatico do GitHub
- SSL automatico
- CDN global (sites estaticos)
- Build rapido
- Logs em tempo real

DICAS FINAIS
------------

1. Usa Static Site para simplicidade
2. Define Root Directory como "dashboard-sgi"
3. Publish Directory deve ser "dist"
4. Build Command: npm install && npm run build
5. Configura VITE_API_BASE_URL com o URL do backend
6. Atualiza FRONTEND_URL no backend apos deploy

Se precisares de ajuda, avisa!

